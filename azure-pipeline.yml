trigger:
- main

variables:
  appName: dotnet-sample-api
  deployPath: /var/www/dotnetapp

stages:
- stage: Build
  displayName: Build Application
  jobs:
  - job: BuildJob
    pool:
      vmImage: ubuntu-latest
    steps:
    - task: DotNetCoreCLI@2
      displayName: Publish App
      inputs:
        command: publish
        projects: app/dotnet-sample-api/*.csproj
        arguments: '-c Release -o publish'

    - task: PublishBuildArtifacts@1
      inputs:
        PathtoPublish: publish
        ArtifactName: drop


